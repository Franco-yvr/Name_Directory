TODO
-modify everything to work with json files
-implement tests